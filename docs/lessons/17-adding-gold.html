<!DOCTYPE html> <html><head>
		<title>17 - Adding Gold</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Tower Defense Course - 17 - Adding Gold">
		<meta property="og:title" content="17 - Adding Gold">
		<meta property="og:description" content="Tower Defense Course - 17 - Adding Gold">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://towerdefense.captaincoder.org/lessons/17-adding-gold.html">
		<meta property="og:image" content="https://towerdefense.captaincoder.org/lib/media/add-player-controller-gold-200.png">
		<meta property="og:site_name" content="Tower Defense Course">
		<meta name="author" content="Captain Coder"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://towerdefense.captaincoder.org/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon is-focused"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="PlayerController Class">PlayerController Class</h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-p"><p dir="auto">Currently, when your player clicks the <strong>Build</strong> button, it enables the <strong>TurretSpawner</strong> which, in turn allows them to click on tiles to spawn multiple turrets. Next, you will create a <code>PlayerController</code> class that will track a <code>Gold</code> resource for the player that limits their ability to place turrets. When the player builds a turret, it will reduce the player's <code>Gold</code>.</p></div><div class="el-h2 heading-wrapper"><h2 data-heading="Practice: Create a PlayerController Class and GameObject" dir="auto" class="heading" id="Practice:_Create_a_PlayerController_Class_and_GameObject"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Practice: Create a PlayerController Class and GameObject</h2><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Create a new <code>MonoBehaviour</code> named <code>PlayerController</code></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Add an <code>int Gold</code> Property</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">In your scene, add a new <strong>GameObject</strong> that has a <code>PlayerController</code> component . </li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Set the <code>Gold</code> property in the <strong>Inspector</strong> to <code>200</code></li>
</ul></div><div class="el-p"><p dir="auto">When you have finished, your scene should look similar to the image below:</p></div><div class="el-p"><p dir="auto"><span alt="add-player-controller-gold-200.png" src="add-player-controller-gold-200.png" class="internal-embed media-embed image-embed is-loaded"><img alt="add-player-controller-gold-200.png" src="lib/media/add-player-controller-gold-200.png"></span></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Add a Text Label for Gold" dir="auto" class="heading" id="Add_a_Text_Label_for_Gold"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Add a Text Label for Gold</h2><div class="heading-children"><div class="el-p"><p dir="auto">To help the player know how much gold they have, add a <strong>Text Label</strong> to your <strong>Canvas</strong></p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">In the <strong>Hierarchy</strong>, right click on your <strong>Canvas</strong></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Select Create &gt; UI &gt; Text - TextMeshPro</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="create-gold-label.webm" src="create-gold-label.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/create-gold-label.webm" style=""></video></span></p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Practice: Anchor the Gold Label to the Top Left Corner" dir="auto" class="heading" id="Practice:_Anchor_the_Gold_Label_to_the_Top_Left_Corner"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Practice: Anchor the Gold Label to the Top Left Corner</h3><div class="heading-children"><div class="el-p"><p dir="auto">Recall how you anchored your <strong>Build</strong> button to the bottom left corner of the screen (see: <a data-href="16 - Placing Turrets#UI Pivots" href="lessons/16-placing-turrets.html#UI_Pivots" class="internal-link" target="_self" rel="noopener nofollow">16 - Placing Turrets &gt; UI Pivots</a>). You can do the same thing with any UI component. Additionally, if you hold Shift and Alt while selecting a pivot, it will move your UI component to that position.</p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Select your <code>Gold Label</code></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">In the <strong>Inspector</strong> click the <strong>Pivot</strong> icon on the <strong>Rect Transform</strong></li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Press and hold Shift + Alt</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Click the Top Left Corner pivot icon</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Observe that the text moves to the top left corner, additionally the anchor and pivot values update.<br>
<span alt="set-anchor-and-pivots.webm" src="set-anchor-and-pivots.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/set-anchor-and-pivots.webm" style=""></video></span></li>
<li data-line="6" data-task="" class="task-list-item" dir="auto"><input data-line="6" type="checkbox" class="task-list-item-checkbox">Adjust the <code>Pos X</code> and <code>Pos Y</code> values slightly to keep the text from touching the edge of the screen.<br>
<span alt="adjust-x-and-y.webm" src="adjust-x-and-y.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/adjust-x-and-y.webm" style=""></video></span></li>
<li data-line="8" data-task="" class="task-list-item" dir="auto"><input data-line="8" type="checkbox" class="task-list-item-checkbox">Update the default text to display "Gold: 0"<br>
<span alt="adjust-x-and-y 1.webm" src="adjust-x-and-y 1.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/adjust-x-and-y-1.webm" style=""></video></span></li>
</ul></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Updating the Gold Label" dir="auto" class="heading" id="Updating_the_Gold_Label"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Updating the Gold Label</h2><div class="heading-children"><div class="el-p"><p dir="auto">Now that you have a Gold Label, you can make it reference your <code>PlayerController</code> and update the text component to display the current amount of Gold the player has available.</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Create a GoldLabelController MonoBehaviour" dir="auto" class="heading" id="Create_a_GoldLabelController_MonoBehaviour"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Create a GoldLabelController MonoBehaviour</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Create a new <code>MonoBehaviour</code> named <code>GoldLabelController</code></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Add a <code>PlayerController Controller</code> property</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Add a <code>TextMeshProGUI Label</code> property</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Add an <code>Update()</code> method:</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Set <code>Label.text</code> to display <code>Controller.Gold</code></li>
</ul></div><div class="el-p"><p dir="auto"><span alt="GoldLabelController.png" src="GoldLabelController.png" class="internal-embed media-embed image-embed is-loaded"><img alt="GoldLabelController.png" src="lib/media/goldlabelcontroller.png"></span></p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Attach the GoldLabelController component" dir="auto" class="heading" id="Attach_the_GoldLabelController_component"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Attach the GoldLabelController component</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <code>GoldLabelController</code> component to your <code>GoldLabel</code></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><input data-line="1" type="checkbox" class="task-list-item-checkbox">Connect the <code>PlayerController</code> and <code>Label</code> properties in the <strong>Inspector</strong>
<ul>
<li data-line="2" dir="auto">Note: <code>Label</code> should reference the <strong>Gold Label</strong> (self)</li>
</ul>
</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Enter Play Mode to confirm the label updates</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Adjust the <code>PlayerController</code>'s <strong>Gold</strong> property to observe the change<br>
<span alt="update-gold.webm" src="update-gold.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/update-gold.webm" style=""></video></span></li>
</ul></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Spending Gold to Spawn" dir="auto" class="heading" id="Spending_Gold_to_Spawn"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Spending Gold to Spawn</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="Practice: Reference PlayerController in TurretSpawner" dir="auto" class="heading" id="Practice:_Reference_PlayerController_in_TurretSpawner"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Practice: Reference PlayerController in TurretSpawner</h3><div class="heading-children"><div class="el-p"><p dir="auto">To be able to check if we can spawn a turret, the <strong>TurretSpawner</strong> must check if the player has enough gold.</p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <code>PlayerController Controller</code> property to the <code>TurretSpawner</code> <strong>MonoBehaviour</strong></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">In the <strong>Inspector</strong> connect the <strong>PlayerController</strong> to the <strong>TurretSpawner</strong><br>
When you have finished, your inspector should look similar to the image below:</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="reference-player-controller.png" src="reference-player-controller.png" class="internal-embed media-embed image-embed is-loaded"><img alt="reference-player-controller.png" src="lib/media/reference-player-controller.png"></span></p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Challenge: Add a CanSpawn Method to TurretSpawner" dir="auto" class="heading" id="Challenge:_Add_a_CanSpawn_Method_to_TurretSpawner"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Challenge: Add a CanSpawn Method to TurretSpawner</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <code>bool CanSpawn(TileController tileController)</code> method to the <code>TurretSpawner</code> <strong>MonoBehaviour</strong>:</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">The method returns <code>false</code> if the <code>tileController</code> is occupied </li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">The method returns <code>false</code> if the <code>Controller</code> does not have at least 50 gold</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Otherwise, the method returns <code>true</code></li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Update the <code>SpawnTurret</code> method to use <code>CanSpawn</code> to determine if a turret can be spawned</li>
<li data-line="5" data-task="" class="task-list-item" dir="auto"><input data-line="5" type="checkbox" class="task-list-item-checkbox">Update the <code>SpawnTurret</code> method to reduce <code>Controller.Gold</code> by 50</li>
<li data-line="6" data-task="" class="task-list-item" dir="auto"><input data-line="6" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> to test your spawner</li>
<li data-line="7" data-task="" class="task-list-item" dir="auto"><input data-line="7" type="checkbox" class="task-list-item-checkbox">You should only be able to place 4 turrets</li>
<li data-line="8" data-task="" class="task-list-item" dir="auto"><input data-line="8" type="checkbox" class="task-list-item-checkbox">After placing each turret, you should observe that the gold decreases</li>
</ul></div><div class="el-p"><p dir="auto">When you have finished, you should see something similar to the video below:<br>
<span alt="testing-can-spawn.webm" src="testing-can-spawn.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/testing-can-spawn.webm" style=""></video></span></p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Interaction Hints" dir="auto" class="heading" id="Interaction_Hints"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Interaction Hints</h2><div class="heading-children"><div class="el-p"><p dir="auto">Currently, your player does not receive much information about what the result of clicking on a tile will be. This can be both confusing and frustrating. How were they supposed to know the turret was going to cost 50 gold! Maybe they didn't see that they were out of gold and don't understand why clicking is not placing a turret. To help create a better user experience, you will add in a text label that will display information to the player.</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Practice: Add an Information Label to your Canvas" dir="auto" class="heading" id="Practice:_Add_an_Information_Label_to_your_Canvas"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Practice: Add an Information Label to your Canvas</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <strong>Text - TextMeshPro</strong> to your <strong>Canvas</strong> (Info Label)</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Change the default text to "Player Interaction Info Label"</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Position and resize the text on the screen to your liking</li>
<li data-line="3" dir="auto"><strong>Note</strong>: In the preview project, the information label will be on the bottom center of the screen<br>
When you have finished, your game view should look like the video below:<br>
<span alt="player-interaction-info-label.png" src="player-interaction-info-label.png" class="internal-embed media-embed image-embed is-loaded"><img alt="player-interaction-info-label.png" src="lib/media/player-interaction-info-label.png"></span></li>
</ul></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Practice: Add InfoLabel to PlayerController" dir="auto" class="heading" id="Practice:_Add_InfoLabel_to_PlayerController"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Practice: Add InfoLabel to PlayerController</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <code>TextMeshProGUI InfoLabel</code> to your <code>PlayerController</code> <strong>MonoBehaviour</strong></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Add a <code>Start()</code> method to <code>PlayerController</code></li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Set <code>InfoLabel.text</code> to display "Click Build to Place a Turret"</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Connect the <strong>InfoLabel</strong> in the <strong>Inspector</strong></li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> to test that the <strong>InfoLabel</strong> updates when the game starts<br>
When you have finished, your scene should look similar to the video below:<br>
<span alt="place-build-test.webm" src="place-build-test.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/place-build-test.webm" style=""></video></span></li>
</ul></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Disable Raycast Target" dir="auto" class="heading" id="Disable_Raycast_Target"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Disable Raycast Target</h3><div class="heading-children"><div class="el-p"><p dir="auto">By default, Text labels intercept click events of a mouse. This can be useful if you want to detect if a mouse is hovering over a label. However, this can be problematic if your label is blocking a button or your game scene. This can be disabled in the <code>Extra Settings</code> section of the <code>TextMeshPro - Text(UI)</code> component. </p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Disable <strong>Raycast Target</strong> in your <strong>Info Label</strong> / <strong>Gold Label</strong> to prevent them from blocking your buttons / turret placements.<br>
<span alt="disable-raycast-target.webm" src="disable-raycast-target.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/disable-raycast-target.webm" style=""></video></span></li>
</ul></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="TurretSpawner.ShowInfo(TileController)" dir="auto" class="heading" id="TurretSpawner.ShowInfo(TileController)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>TurretSpawner.ShowInfo(TileController)</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <code>ShowInfo(TileController)</code> method to <code>TurretSpawner</code>:</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">If the <code>tileController.IsOccupied</code> display "Cannot build here"</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">If the <code>Controller.Gold &lt; 50</code> display "&lt;color=red&gt;Not enough gold"</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">else display "50 Gold - Place Turret"</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="show-info-method.png" src="show-info-method.png" class="internal-embed media-embed image-embed is-loaded"><img alt="show-info-method.png" src="lib/media/show-info-method.png"></span></p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Challenge: Display Info to the Player" dir="auto" class="heading" id="Challenge:_Display_Info_to_the_Player"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Challenge: Display Info to the Player</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Update your <code>TurretSpanwer</code> <strong>MonoBehaviour</strong> in the following ways</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">When enabled, display "Select a Tile"</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Add a listener such that <code>ShowInfo</code> is called when the cursor enters a tile</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Add a listener such that "Select a Tile" is displayed when the cursor exits a tile</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">After a turret is placed, disable the <strong>TurretSpawner</strong></li>
<li data-line="5" data-task="" class="task-list-item" dir="auto"><input data-line="5" type="checkbox" class="task-list-item-checkbox">Be sure to remove any listeners when <strong>TurretSpawner</strong> is disabled</li>
<li data-line="6" data-task="" class="task-list-item" dir="auto"><input data-line="6" type="checkbox" class="task-list-item-checkbox">When disabled, display "Click Build to Place a Turret"</li>
<li data-line="7" data-task="" class="task-list-item" dir="auto"><input data-line="7" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> to test your changes</li>
</ul></div><div class="el-p"><p dir="auto">When you have finished, your game should behave similar to the scene below:</p></div><div class="el-p"><p dir="auto"><span alt="17-challenge-complete.webm" src="17-challenge-complete.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/17-challenge-complete.webm" style=""></video></span></p></div></div></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="What's Next?" dir="auto" class="heading" id="What's_Next?">What's Next?</h1><div class="heading-children"><div class="el-p"><p dir="auto">Now that your player can use gold to build turrets, it is now time to create a way for the player to gain gold. In the next lesson, you will create a new building that continuously generates gold for the player.</p></div><div class="el-p"><p dir="auto"><a data-href="18 - Generating Gold" href="lessons/18-generating-gold.html" class="internal-link" target="_self" rel="noopener nofollow">18 - Generating Gold</a></p></div><div class="mod-footer mod-ui"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="lessons\17-adding-gold.html#PlayerController Class"><div class="tree-item-contents heading-link" heading-name="PlayerController Class"><span class="tree-item-title">PlayerController Class</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="lessons\17-adding-gold.html#Practice:_Create_a_PlayerController_Class_and_GameObject"><div class="tree-item-contents heading-link" heading-name="Practice: Create a PlayerController Class and GameObject"><span class="tree-item-title">Practice: Create a PlayerController Class and GameObject</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="lessons\17-adding-gold.html#Add_a_Text_Label_for_Gold"><div class="tree-item-contents heading-link" heading-name="Add a Text Label for Gold"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Add a Text Label for Gold</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Practice:_Anchor_the_Gold_Label_to_the_Top_Left_Corner"><div class="tree-item-contents heading-link" heading-name="Practice: Anchor the Gold Label to the Top Left Corner"><span class="tree-item-title">Practice: Anchor the Gold Label to the Top Left Corner</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="lessons\17-adding-gold.html#Updating_the_Gold_Label"><div class="tree-item-contents heading-link" heading-name="Updating the Gold Label"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Updating the Gold Label</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Create_a_GoldLabelController_MonoBehaviour"><div class="tree-item-contents heading-link" heading-name="Create a GoldLabelController MonoBehaviour"><span class="tree-item-title">Create a GoldLabelController MonoBehaviour</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Attach_the_GoldLabelController_component"><div class="tree-item-contents heading-link" heading-name="Attach the GoldLabelController component"><span class="tree-item-title">Attach the GoldLabelController component</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="lessons\17-adding-gold.html#Spending_Gold_to_Spawn"><div class="tree-item-contents heading-link" heading-name="Spending Gold to Spawn"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Spending Gold to Spawn</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Practice:_Reference_PlayerController_in_TurretSpawner"><div class="tree-item-contents heading-link" heading-name="Practice: Reference PlayerController in TurretSpawner"><span class="tree-item-title">Practice: Reference PlayerController in TurretSpawner</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Challenge:_Add_a_CanSpawn_Method_to_TurretSpawner"><div class="tree-item-contents heading-link" heading-name="Challenge: Add a CanSpawn Method to TurretSpawner"><span class="tree-item-title">Challenge: Add a CanSpawn Method to TurretSpawner</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="lessons\17-adding-gold.html#Interaction_Hints"><div class="tree-item-contents heading-link" heading-name="Interaction Hints"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Interaction Hints</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Practice:_Add_an_Information_Label_to_your_Canvas"><div class="tree-item-contents heading-link" heading-name="Practice: Add an Information Label to your Canvas"><span class="tree-item-title">Practice: Add an Information Label to your Canvas</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Practice:_Add_InfoLabel_to_PlayerController"><div class="tree-item-contents heading-link" heading-name="Practice: Add InfoLabel to PlayerController"><span class="tree-item-title">Practice: Add InfoLabel to PlayerController</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Disable_Raycast_Target"><div class="tree-item-contents heading-link" heading-name="Disable Raycast Target"><span class="tree-item-title">Disable Raycast Target</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#TurretSpawner.ShowInfo(TileController)"><div class="tree-item-contents heading-link" heading-name="TurretSpawner.ShowInfo(TileController)"><span class="tree-item-title">TurretSpawner.ShowInfo(TileController)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\17-adding-gold.html#Challenge:_Display_Info_to_the_Player"><div class="tree-item-contents heading-link" heading-name="Challenge: Display Info to the Player"><span class="tree-item-title">Challenge: Display Info to the Player</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="lessons\17-adding-gold.html#What's_Next?"><div class="tree-item-contents heading-link" heading-name="What's Next?"><span class="tree-item-title">What's Next?</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>