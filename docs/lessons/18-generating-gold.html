<!DOCTYPE html> <html><head>
		<title>18 - Generating Gold</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Tower Defense Course - 18 - Generating Gold">
		<meta property="og:title" content="18 - Generating Gold">
		<meta property="og:description" content="Tower Defense Course - 18 - Generating Gold">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://towerdefense.captaincoder.org/lessons/18-generating-gold.html">
		<meta property="og:image" content="https://towerdefense.captaincoder.org/lib/media/gold-generator.png">
		<meta property="og:site_name" content="Tower Defense Course">
		<meta name="author" content="Captain Coder"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://towerdefense.captaincoder.org/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon is-focused"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="18 - Generating Gold">18 - Generating Gold</h1><div class="el-p"><p dir="auto">Currently, in your game, the player starts with a limited amount of gold that they can spend to build Turrets. Unfortunately, the player has no way to generate additional resources. Next, you will create a new type of building that the player can place that will generate Gold for them over time.</p></div><div class="el-h2 heading-wrapper"><h2 data-heading="Practice: Create a GoldGenerator Prefab" dir="auto" class="heading" id="Practice:_Create_a_GoldGenerator_Prefab"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Practice: Create a GoldGenerator Prefab</h2><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Create a new GameObject to represent your GoldGenerator building</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Add a model (or multiple models) as children objects to the GoldGenerator</li>
</ul></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Feel free to use any model you would like! In this document, I will combine two of the Kenney models together.</li>
</ul></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">If necessary, adjust the models positions within the parent object to fit nicely on a tile</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Convert your object into a Prefab</li>
</ul></div><div class="el-p"><p dir="auto">When you are finished, you should have a GoldGenerator Prefab that you can place on any tile in your game scene:</p></div><div class="el-p"><p dir="auto"><span alt="gold-generator example.webm" src="gold-generator example.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/gold-generator-example.webm" style=""></video></span></p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Practice: GoldGenerator MonoBehaviour" dir="auto" class="heading" id="Practice:_GoldGenerator_MonoBehaviour"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Practice: GoldGenerator MonoBehaviour</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Create a new <strong>MonoBehaviour</strong> called <code>GoldGenerator</code></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Add a <code>float Delay</code> property which represents how often it will generate gold</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Add an <code>int Gold</code> property which represents how much gold is generated</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Add a <code>GoldGenertor</code> component to your <strong>GoldGenerator</strong> prefab</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">In the <strong>Inspector</strong> set <code>Delay</code> to 2 and <code>Gold</code> to 1</li>
</ul></div><div class="el-p"><p dir="auto">When you've finished your prefab should look similar to the image below:</p></div><div class="el-p"><p dir="auto"><span alt="gold-generator.png" src="gold-generator.png" class="internal-embed media-embed image-embed is-loaded"><img alt="gold-generator.png" src="lib/media/gold-generator.png"></span></p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Referencing the PlayerController" dir="auto" class="heading" id="Referencing_the_PlayerController"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Referencing the PlayerController</h3><div class="heading-children"><div class="el-p"><p dir="auto">To be able to update the player's gold, the <code>GoldGenerator</code> requires a reference to the <code>PlayerController</code>. You will not be able to set this in the <strong>Prefab</strong> because the <strong>PlayerController</strong> does not exist here. One way you can acquire a reference to it without the need to set it in the <strong>Inspector</strong> is to assume that the <strong>PlayerController</strong> will be a parent of the <strong>GoldGenerator</strong>. Then, use <code>GetComponentInParent</code> to set the reference.</p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <code>PlayerController Controller</code> property to your <code>GoldGenerator</code></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Add an <code>Awake()</code> method</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">In <code>Awake()</code> use <code>GetComponentInParent&lt;PlayerController&gt;()</code> to assign <code>Controller</code></li>
</ul></div><div class="el-p"><p dir="auto"><span alt="cache-player-controller.png" src="cache-player-controller.png" class="internal-embed media-embed image-embed is-loaded"><img alt="cache-player-controller.png" src="lib/media/cache-player-controller.png"></span></p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Testing the PlayerController Reference" dir="auto" class="heading" id="Testing_the_PlayerController_Reference"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Testing the PlayerController Reference</h3><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a <code>GoldGenerator</code> to your game scene as a child of the <code>PlayerController</code></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong></li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Observe that the <code>PlayerController</code> property is set when the game starts</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="verify-player-controller-set.webm" src="verify-player-controller-set.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/verify-player-controller-set.webm" style=""></video></span></p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Challenge: GenerateGold Method" dir="auto" class="heading" id="Challenge:_GenerateGold_Method"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Challenge: GenerateGold Method</h2><div class="heading-children"><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Review how you used <code>InvokeRepeating</code> and <code>CancelInvoke</code> to spawn enemies into your game</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">Add a <code>GenerateGold()</code> method to your <code>GoldGenerator</code> <strong>MonoBehaviour</strong></li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Use <code>InvokeRepeating</code> to cause <code>GenerateGold()</code> to execute every <code>Delay</code> seconds</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Don't forget to use <code>CancelInvoke</code> when the <strong>GoldGenerator</strong> is disabled</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> to test that your <strong>Gold</strong> is now increasing</li>
</ul></div><div class="el-p"><p dir="auto">When you're finished, your game should look similar to the video below:<br>
<span alt="gold-generating-invoke-repeating.webm" src="gold-generating-invoke-repeating.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/gold-generating-invoke-repeating.webm" style=""></video></span></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Spawning GoldGenerators" dir="auto" class="heading" id="Spawning_GoldGenerators"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Spawning GoldGenerators</h2><div class="heading-children"><div class="el-p"><p dir="auto">The <strong>TurretSpawner</strong> you created previously does almost everything you need to be able to spawn <strong>GoldGenerator</strong>s into your game.</p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Select your <strong>TurretSpawner</strong> in the <strong>Hierarchy</strong></li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">In the <strong>Inspector</strong> change the <strong>Turret Prefab</strong> property to your <strong>GoldGenerator</strong> prefab</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> and place a <strong>GoldGenerator</strong></li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">Observe the error that occurs</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="gold-generator-nullreference-exception.webm" src="gold-generator-nullreference-exception.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/gold-generator-nullreference-exception.webm" style=""></video></span></p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Setting the Parent Transform" dir="auto" class="heading" id="Setting_the_Parent_Transform"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Setting the Parent Transform</h3><div class="heading-children"><div class="el-p"><p dir="auto">If you investigate the error, you will find that the newly spawned <code>GoldGenerator</code> does not have a <code>PlayerController</code>. This is because the object is being instantiated without a parent.</p></div><div class="el-p"><p dir="auto">The <code>Instatiate</code> method has several overloaded versions that allow you to specify additional information about how to create the specified GameObject. One version allows you to specify the parent object: <code>Instantiate(GameObject, Transform)</code></p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Update <code>TurretSpawner.SpawnTurret</code> to set the parent of the object of the turret to be the PlayerController's transform when it is spawned. (<code>Controller.transform</code>)<br>
<span alt="set-parent-object.png" src="set-parent-object.png" class="internal-embed media-embed image-embed is-loaded"><img alt="set-parent-object.png" src="lib/media/set-parent-object.png"></span></li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> to test that you are able to spawn your <strong>Gold Generator</strong>s<br>
When you are finished, your game should look and act similar to the video below:  </li>
</ul></div><div class="el-p"><p dir="auto"><span alt="spawning-gold-generators.webm" src="spawning-gold-generators.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/spawning-gold-generators.webm" style=""></video></span></p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Changing the Prefab" dir="auto" class="heading" id="Changing_the_Prefab"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Changing the Prefab</h2><div class="heading-children"><div class="el-p"><p dir="auto">Currently, you only have a single <strong>Build</strong> button that enables the <code>TurretSpawner</code> game which knows references your <strong>GoldGenerator</strong> prefab. Next, you will update the <strong>Build</strong> button to set the prefab.</p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Update your <code>TurretSpawner.TurretPrefab</code> field to have a public setter<br>
<span alt="ensure-set-public.png" src="ensure-set-public.png" class="internal-embed media-embed image-embed is-loaded"><img alt="ensure-set-public.png" src="lib/media/ensure-set-public.png"></span></li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Select the <strong>Button</strong> in the <strong>Hierarchy</strong></li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">In the <strong>Inspector</strong> add a listener to the <strong>On Click</strong> event</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Set the <strong>TurretSpawner</strong> as the listening object</li>
<li data-line="5" data-task="" class="task-list-item" dir="auto"><input data-line="5" type="checkbox" class="task-list-item-checkbox">Select  the <code>TurretSpanwer.TurretPrefab</code> property</li>
<li data-line="6" data-task="" class="task-list-item" dir="auto"><input data-line="6" type="checkbox" class="task-list-item-checkbox">Set the GameObject to be your <strong>Turret</strong> prefab</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="set-turret-prefab-on-click.webm" src="set-turret-prefab-on-click.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/set-turret-prefab-on-click.webm" style=""></video></span></p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> and test that your <strong>TurretSpawner</strong> field is changed when the button is clicked. This results in the player being able to spawn Turrets (rather than GoldGenerators)</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="test-prefab-build-button.webm" src="test-prefab-build-button.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/test-prefab-build-button.webm" style=""></video></span></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Challenge: Create a Generator Button" dir="auto" class="heading" id="Challenge:_Create_a_Generator_Button"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Challenge: Create a Generator Button</h2><div class="heading-children"><div class="el-p"><p dir="auto">Currently, your player is only capable of building Turrets when they click the <strong>Build</strong> button. Can you add another button that allows them to create generators?</p></div><div class="el-ul"><ul class="contains-task-list">
<li data-line="0" data-task="" class="task-list-item" dir="auto"><input data-line="0" type="checkbox" class="task-list-item-checkbox">Add a button to your Canvas</li>
<li data-line="1" data-task="" class="task-list-item" dir="auto"><input data-line="1" type="checkbox" class="task-list-item-checkbox">The button should be labeled "Generator"</li>
<li data-line="2" data-task="" class="task-list-item" dir="auto"><input data-line="2" type="checkbox" class="task-list-item-checkbox">Use Pivots and Anchors to set the buttons position relative to the screen</li>
<li data-line="3" data-task="" class="task-list-item" dir="auto"><input data-line="3" type="checkbox" class="task-list-item-checkbox">When the button is clicked, the player should be able to place generators</li>
<li data-line="4" data-task="" class="task-list-item" dir="auto"><input data-line="4" type="checkbox" class="task-list-item-checkbox">Enter <strong>Play Mode</strong> to test that both of your buttons works</li>
</ul></div><div class="el-p"><p dir="auto">When you have finished, your game should look and act similar to the video below:<br>
<span alt="test-buttons.webm" src="test-buttons.webm" class="internal-embed media-embed video-embed is-loaded"><video controls="" preload="metadata" src="lib/media/test-buttons.webm" style=""></video></span></p></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="What's Next?" dir="auto" class="heading" id="What's_Next?">What's Next?</h1><div class="heading-children"><div class="el-p"><p dir="auto">Although it is now possible to spawn different types of buildings/turrets, you are not able to easily change the cost (the gold cost of 50 is hard coded). Additionally, the user hints could be more descriptive based on the type of building you want to place. In the next lesson, you will create a <strong>ScriptableObject</strong>  building type that will allow you to quickly and easily create new building types and easily add them to your player's UI.</p></div><div class="el-p"><p dir="auto"><a data-href="19 - BuildingData" href="lessons/19-buildingdata.html" class="internal-link" target="_self" rel="noopener nofollow">19 - BuildingData</a></p></div><div class="mod-footer mod-ui"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="lessons\18-generating-gold.html#18 - Generating Gold"><div class="tree-item-contents heading-link" heading-name="18 - Generating Gold"><span class="tree-item-title">18 - Generating Gold</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="lessons\18-generating-gold.html#Practice:_Create_a_GoldGenerator_Prefab"><div class="tree-item-contents heading-link" heading-name="Practice: Create a GoldGenerator Prefab"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Practice: Create a GoldGenerator Prefab</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\18-generating-gold.html#Practice:_GoldGenerator_MonoBehaviour"><div class="tree-item-contents heading-link" heading-name="Practice: GoldGenerator MonoBehaviour"><span class="tree-item-title">Practice: GoldGenerator MonoBehaviour</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\18-generating-gold.html#Referencing_the_PlayerController"><div class="tree-item-contents heading-link" heading-name="Referencing the PlayerController"><span class="tree-item-title">Referencing the PlayerController</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\18-generating-gold.html#Testing_the_PlayerController_Reference"><div class="tree-item-contents heading-link" heading-name="Testing the PlayerController Reference"><span class="tree-item-title">Testing the PlayerController Reference</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="lessons\18-generating-gold.html#Challenge:_GenerateGold_Method"><div class="tree-item-contents heading-link" heading-name="Challenge: GenerateGold Method"><span class="tree-item-title">Challenge: GenerateGold Method</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="lessons\18-generating-gold.html#Spawning_GoldGenerators"><div class="tree-item-contents heading-link" heading-name="Spawning GoldGenerators"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Spawning GoldGenerators</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="lessons\18-generating-gold.html#Setting_the_Parent_Transform"><div class="tree-item-contents heading-link" heading-name="Setting the Parent Transform"><span class="tree-item-title">Setting the Parent Transform</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="lessons\18-generating-gold.html#Changing_the_Prefab"><div class="tree-item-contents heading-link" heading-name="Changing the Prefab"><span class="tree-item-title">Changing the Prefab</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="lessons\18-generating-gold.html#Challenge:_Create_a_Generator_Button"><div class="tree-item-contents heading-link" heading-name="Challenge: Create a Generator Button"><span class="tree-item-title">Challenge: Create a Generator Button</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="lessons\18-generating-gold.html#What's_Next?"><div class="tree-item-contents heading-link" heading-name="What's Next?"><span class="tree-item-title">What's Next?</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>